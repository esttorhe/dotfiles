# Milestone v1.0: Working Baseline

**Status:** SHIPPED 2025-02-05
**Phases:** 1-4
**Total Plans:** 5

## Overview

Fish shell migration from zsh, preserving all functionality with chezmoi management.

## Phases

### Phase 1: Config Structure

**Goal:** Create fish config files in chezmoi
**Requirements:** CONF-01, CONF-02
**Plans:** 1 plan

Plans:
- [x] 01-01-PLAN.md — Create fish config directory and base config.fish.tmpl

**Details:**
- Created `dot_config/private_fish/` directory structure
- Used `private_fish` prefix for restrictive permissions (0700 dir, 0600 file)
- Added chezmoi templating with OS detection
- Initialized starship prompt

---

### Phase 2: Environment & Secrets

**Goal:** Configure PATH, environment variables, and 1Password integration
**Requirements:** ENV-01, ENV-02, ENV-03, ENV-04, SEC-01, SEC-02, SEC-03
**Plans:** 2 plans

Plans:
- [x] 02-01-PLAN.md — Add PATH configuration and environment variables
- [x] 02-02-PLAN.md — Configure 1Password SSH agent and chezmoi-templated secrets

**Details:**
- Fish syntax: `set -gx VAR value` instead of `export`
- Used `fish_add_path -g` for cleaner PATH management
- OS-specific paths wrapped in chezmoi conditionals
- 1Password SSH agent with OS-specific socket paths
- Chezmoi-templated secrets for Cloudflare and OpenWeather

---

### Phase 3: Tool Integrations

**Goal:** Initialize shell tools (starship, atuin, mise, fzf, direnv)
**Requirements:** TOOL-01, TOOL-02, TOOL-03, TOOL-04, TOOL-05
**Plans:** 1 plan

Plans:
- [x] 03-01-PLAN.md — Add atuin, mise, fzf, and direnv initializations

**Details:**
- All tools wrapped in `if type -q <tool>` for graceful fallbacks
- Tool order: starship → atuin → mise → fzf → direnv
- Atuin takes precedence over fzf for Ctrl+R

---

### Phase 4: Abbreviations

**Goal:** Convert zsh aliases to fish abbreviations
**Requirements:** ABBR-01, ABBR-02, ABBR-03, ABBR-04, ABBR-05, ABBR-06
**Plans:** 1 plan

Plans:
- [x] 04-01-PLAN.md — Convert all zsh aliases to fish abbreviations

**Details:**
- 29 abbreviations converted across 6 categories
- OS-specific abbreviations wrapped in chezmoi conditionals
- Abbreviations expand as typed (visible in history as full command)
- Complex functions deferred to v2

---

## Milestone Summary

**Key Decisions:**
- Use abbreviations instead of aliases (fish-native approach)
- Drop zsh plugins, re-add individually if needed
- Use `fish_add_path -g` for PATH management
- Use `type -q` checks for graceful tool fallbacks
- Complex functions deferred to v2

**Issues Resolved:**
- Starship not initializing (fixed in Phase 1)
- Abbreviations not showing in non-interactive mode (expected behavior)
- Ctrl+L keybinding wiping screen (fish limitation vs zsh's zle -I)

**Technical Debt Incurred:**
- Ctrl+L shows fortune but requires enter for prompt (fish limitation)
- Complex functions (transfer, sbr, brew.info) not yet migrated

---
*Archived: 2025-02-05 as part of v1.0 milestone completion*
